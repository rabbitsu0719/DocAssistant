<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>ë¬¸ì„œ ìƒì„¸ - {{ filename }}</title>
  <style>
    body { font-family: system-ui, sans-serif; max-width: 980px; margin: 36px auto; }
    .meta { color:#666; margin-bottom: 16px; }
    .grid { display:grid; grid-template-columns: 1fr 1fr; gap:20px; }
    img { max-width:100%; border:1px solid #eee; border-radius:8px; }
    pre { background:#0b1020; color:#d2f4ff; padding:12px; border-radius:8px; white-space:pre-wrap; }
    a { color:#0b69ff; text-decoration:none; }
    @media (max-width:920px){ .grid{ grid-template-columns:1fr; } }
    button { background:#eee; border:none; padding:6px 10px; border-radius:6px; cursor:pointer; }
    button:hover { background:#ddd; }
  </style>
</head>
<body>
  <h1>ë¬¸ì„œ ìƒì„¸</h1>
  <div class="meta">
    <div>ğŸ“„ <b>{{ filename }}</b></div>
    <div>ğŸ†” Record ID: {{ record_id }}</div>
    <div style="display:flex; gap:12px; margin-top:6px;">
      <a href="/">â† í™ˆìœ¼ë¡œ</a>
      <a href="/api/documents/{{ record_id }}/layout" target="_blank">ğŸ§¾ JSON APIë¡œ ë³´ê¸°</a>
    </div>
  </div>

  <div class="grid">
    <!-- ì™¼ìª½: ì˜¤ë²„ë ˆì´ ë¯¸ë¦¬ë³´ê¸° -->
    <div>
      <h3>ğŸ–¼ï¸ ë ˆì´ì•„ì›ƒ ë¯¸ë¦¬ë³´ê¸°</h3>
      <img src="{{ overlay_url }}" alt="overlay">
      <div style="margin-top:8px;">
        <a href="{{ overlay_url }}" download>â¬‡ï¸ ì˜¤ë²„ë ˆì´ PNG ë‹¤ìš´ë¡œë“œ</a>
      </div>
      <p style="font-size:12px;color:#777;margin-top:4px;">
        * ì˜¤ë²„ë ˆì´ê°€ ë³´ì´ì§€ ì•Šìœ¼ë©´ ì„¸ê·¸ë©˜í…Œì´ì…˜ ë²„ì „ìœ¼ë¡œ ì²˜ë¦¬ë˜ì§€ ì•Šì•˜ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      </p>
    </div>

    <!-- ì˜¤ë¥¸ìª½: JSON ê²°ê³¼ -->
    <div>
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <h3>ğŸ§¾ ê²°ê³¼ JSON</h3>
        <div>
          <button onclick="toggleJson()">ì ‘ê¸°/í¼ì¹˜ê¸°</button>
          <button onclick="copyJson()">ğŸ“‹ ë³µì‚¬</button>
        </div>
      </div>
      <pre id="jsonbox">{{ doc_json }}</pre>
    </div>
  </div>

  <script>
    function toggleJson() {
      const box = document.getElementById("jsonbox");
      box.style.display = (box.style.display === "none") ? "block" : "none";
    }
    function copyJson() {
      const text = document.getElementById("jsonbox").innerText;
      navigator.clipboard.writeText(text);
      alert("JSON ë³µì‚¬ ì™„ë£Œ âœ…");
    }
  </script>
</body>
</html>
